___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "type": "TAG",
  "categories": "MARKETING",
  "id": "cvt_temp_public_id",
  "version": 1,
  "securityGroups": [],
  "displayName": "500apps ConvertPath",
  "brand": {
    "id": "brand_dummy",
    "displayName": "",
    "thumbnail": "data:image/png;base64,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\u003d"
  },
  "description": "Build and configure different types of popup messages to personalise websites for effective customer engagement\nhttps://infinity.500apps.com/convertpath",
  "containerContexts": [
    "WEB"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "type": "TEXT",
    "name": "api_key",
    "displayName": "ConvertPath Key",
    "simpleValueType": true,
    "valueValidators": [
      {
        "type": "NON_EMPTY"
      }
    ],
    "help": "Please copy the ConvertPath Key from Website -\u003e Share/Copy script sidebar -\u003e Connections -\u003e Google Tag Manager at https://infinity.500apps.com/convertpath"
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

const log = require('logToConsole');
const injectScript = require('injectScript');
const encodeUriComponent = require('encodeUriComponent');
const api_key = encodeUriComponent(data.api_key);
const trackingUrl='https://gtm.500apps.com/gtm/convertpath/'+api_key+'.js';
log('data = verify', trackingUrl);
injectScript(trackingUrl,data.gtmOnSuccess,data.gtmOnFailure);
// Call data.gtmOnSuccess when the tag is finished.
data.gtmOnSuccess();


___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "logging",
        "versionId": "1"
      },
      "param": [
        {
          "key": "environments",
          "value": {
            "type": 1,
            "string": "debug"
          }
        }
      ]
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "inject_script",
        "versionId": "1"
      },
      "param": [
        {
          "key": "urls",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "https://gtm.500apps.com/gtm/*"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  }
]


___TESTS___

scenarios:
- name: Test case 1
  code: |-
    const mockData = {
      // Mocked field values
      api_key:"NzgyNzA2MzAxNjc5MDE5MC1kZXY=",
    };

    // Call runCode to run the template's code.
    runCode(mockData);

    // Verify that the tag finished successfully.
    assertApi('gtmOnSuccess').wasCalled();


___NOTES___

Created on 11/11/2021, 13:04:02


